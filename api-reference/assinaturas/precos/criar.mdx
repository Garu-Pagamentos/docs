---
title: "Criar Preço de Assinatura"
description: "Crie planos de preço para produtos de assinatura"
api: "POST /api/subscription-prices"
---

## Visão Geral

Crie um preço de assinatura para definir quanto e com que frequência os clientes serão cobrados. Um produto pode ter múltiplos preços (ex: mensal, anual).

## Parâmetros

<ParamField body="productId" type="integer" required>
  ID do produto pai (deve ser do tipo `subscription`).
</ParamField>

<ParamField body="name" type="string" required>
  Nome do plano exibido ao cliente (ex: "Plano Mensal").
</ParamField>

<ParamField body="amount" type="integer" required>
  Valor em centavos (4990 = R$ 49,90).
</ParamField>

<ParamField body="billingInterval" type="string" required>
  Intervalo de cobrança: `weekly`, `monthly`, `quarterly`, `annually`.
</ParamField>

<ParamField body="trialDays" type="integer">
  Dias de teste gratuito antes da primeira cobrança (padrão: 0).
</ParamField>

<ParamField body="isActive" type="boolean">
  Se o plano está disponível para novos assinantes (padrão: true).
</ParamField>

## Exemplo de Requisição

<CodeGroup>

```bash cURL
curl -X POST https://api.garu.com.br/api/subscription-prices \
  -H "Authorization: Bearer sk_test_sua_chave" \
  -H "Content-Type: application/json" \
  -d '{
    "productId": 123,
    "name": "Plano Mensal",
    "amount": 4990,
    "billingInterval": "monthly",
    "trialDays": 7
  }'
```

```javascript JavaScript
const response = await fetch('https://api.garu.com.br/api/subscription-prices', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${process.env.GARU_API_KEY}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    productId: 123,
    name: 'Plano Mensal',
    amount: 4990,
    billingInterval: 'monthly',
    trialDays: 7
  })
});

const preco = await response.json();
console.log(`Checkout: https://garu.com.br/pay/${productUuid}?priceId=${preco.uuid}`);
```

```python Python
import requests
import os

response = requests.post(
    'https://api.garu.com.br/api/subscription-prices',
    headers={
        'Authorization': f'Bearer {os.environ["GARU_API_KEY"]}',
        'Content-Type': 'application/json'
    },
    json={
        'productId': 123,
        'name': 'Plano Mensal',
        'amount': 4990,
        'billingInterval': 'monthly',
        'trialDays': 7
    }
)

preco = response.json()
print(f"Preço criado: {preco['uuid']}")
```

</CodeGroup>

## Resposta de Sucesso

<ResponseField name="id" type="number">
  ID interno do preço.
</ResponseField>

<ResponseField name="uuid" type="string">
  Identificador único usado no link de checkout.
</ResponseField>

<ResponseField name="productId" type="number">
  ID do produto pai.
</ResponseField>

<ResponseField name="name" type="string">
  Nome do plano.
</ResponseField>

<ResponseField name="amount" type="number">
  Valor em centavos.
</ResponseField>

<ResponseField name="billingInterval" type="string">
  Intervalo de cobrança.
</ResponseField>

<ResponseField name="trialDays" type="number">
  Dias de teste gratuito.
</ResponseField>

<ResponseField name="isActive" type="boolean">
  Se o plano está ativo.
</ResponseField>

### Exemplo de Resposta (201 Created)

```json
{
  "id": 456,
  "uuid": "price_def456uvw",
  "productId": 123,
  "sellerId": 1,
  "name": "Plano Mensal",
  "amount": 4990,
  "billingInterval": "monthly",
  "trialDays": 7,
  "isActive": true,
  "createdAt": "2024-01-15T10:35:00.000Z",
  "updatedAt": "2024-01-15T10:35:00.000Z"
}
```

## Intervalos de Cobrança

| Intervalo | Valor | Descrição |
|-----------|-------|-----------|
| Semanal | `weekly` | Cobrança a cada 7 dias |
| Mensal | `monthly` | Cobrança no mesmo dia todo mês |
| Trimestral | `quarterly` | Cobrança a cada 3 meses |
| Anual | `annually` | Cobrança uma vez por ano |

## Link de Checkout

Após criar o preço, construa o link de checkout:

```
https://garu.com.br/pay/{product_uuid}?priceId={price_uuid}
```

**Exemplo:**
```
https://garu.com.br/pay/prod_abc123xyz?priceId=price_def456uvw
```

## Múltiplos Planos

Crie diferentes planos para o mesmo produto:

```javascript
// Plano Básico - Mensal
await criarPreco({
  productId: 123,
  name: 'Básico Mensal',
  amount: 2990,
  billingInterval: 'monthly'
});

// Plano Pro - Mensal
await criarPreco({
  productId: 123,
  name: 'Pro Mensal',
  amount: 4990,
  billingInterval: 'monthly',
  trialDays: 7
});

// Plano Pro - Anual (com desconto de 20%)
await criarPreco({
  productId: 123,
  name: 'Pro Anual',
  amount: 47900, // 12 meses com 20% de desconto
  billingInterval: 'annually',
  trialDays: 14
});
```

## Próximos Passos

<CardGroup cols={2}>
  <Card title="Listar Preços" icon="list" href="/api-reference/assinaturas/precos/listar">
    Consulte todos os preços cadastrados
  </Card>
  <Card title="Listar Assinaturas" icon="users" href="/api-reference/assinaturas/listar">
    Consulte as assinaturas ativas
  </Card>
</CardGroup>
